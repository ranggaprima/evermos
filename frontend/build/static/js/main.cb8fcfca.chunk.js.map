{"version":3,"sources":["components/store/reducers.js","components/store/configureStore.js","components/Card.js","components/App.js","index.js"],"names":["getImageLoading","bool","type","loading","combineReducers","state","action","imageData","console","log","error","initialState","Card","author","this","props","authorName","substring","lastIndexOf","className","dangerouslySetInnerHTML","__html","description","href","imageLink","title","tags","replace","React","Component","App","context","searchHandleClick","e","preventDefault","inputValue","document","getElementById","value","setState","searchvalue","getFlickrImage","placeholder","id","onClick","filter","data","RegExp","test","map","card","index","key","image","media","m","connect","dispatch","url","axios","post","then","res","items","catch","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.cb8fcfca.chunk.js","sourcesContent":["import { combineReducers } from 'redux';\nimport axios from 'axios'\n\nconst GET_IMAGE_LOADING = 'GET_IMAGE_LOADING';\nconst GET_IMAGE_SUCCESS = 'GET_IMAGE_SUCCESS';\nconst GET_IMAGE_ERROR = 'GET_IMAGE_ERROR';\n\nexport function getImageLoading(bool) {\n  return {\n    type: GET_IMAGE_LOADING,\n    loading: bool\n  };\n}\n\nexport function getImageSuccess(imageData) {\n  return {\n    type: GET_IMAGE_SUCCESS,\n    imageData\n  };\n}\n\nexport function getImageError(bool) {\n  return {\n    type: GET_IMAGE_ERROR,\n    error: bool\n  };\n}\n\nexport function getImage(url) {\n  const api_path = `/api/getImage`\n\n  return (dispatch) => {\n    dispatch(getImageLoading(true));\n    axios.post(api_path)\n    .then(res => {\n      return res.data;\n    })\n    .then((data) => {\n      dispatch(getImageSuccess(data.items))\n      dispatch(getImageLoading(false));\n    })\n    .catch(() => dispatch(getImageError(true)));\n  };\n}\n\nexport function error(state = false, action) {\n  switch (action.type) {\n    case GET_IMAGE_ERROR:\n      return action.error;\n    default:\n      return state;\n  }\n}\n\nexport function loading(state = false, action) {\n  switch (action.type) {\n    case GET_IMAGE_LOADING:\n      return action.loading;\n    default:\n      return state;\n  }\n}\n\nexport function imageData(state = [], action) {\n  console.log(state, action)\n  switch (action.type) {\n    case GET_IMAGE_SUCCESS:\n      return action.imageData;\n    default:\n      return state;\n  }\n}\n\nexport default combineReducers({\n  loading,\n  imageData,\n  error,\n});\n","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport combineReducers from './reducers';\n\nexport default function configureStore(initialState) {\n    return createStore(\n        combineReducers,\n        initialState,\n        composeWithDevTools(\n          applyMiddleware(thunk)\n        )\n    );\n}","import React from 'react';\nimport './css/Card.css';\n\nclass Card extends React.Component {\n\n  render() {\n    let author = this.props.author;\n    let authorName = author.substring(author.lastIndexOf('(\"')+2, author.lastIndexOf('\")'));\n    return (\n      <div className=\"card\">\n        <figure className=\"card_content\">         \n          <figcaption>\n            <div className=\"description\" \n              dangerouslySetInnerHTML={{ __html: this.props.description }} \n            />\n            <h3 className=\"title\">\n              <a href={this.props.imageLink} title={this.props.title}>\n                {this.props.title}\n              </a>\n              by {authorName}\n            </h3>\n            <div className=\"tags\">\n              {this.props.tags ? 'Tags: ' + this.props.tags.replace(/\\s+/g, \", \") : \"\"}\n            </div>\n          </figcaption>\n        </figure>\n      </div>\n    );\n  }\n}\n\nexport default Card;\n\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types'\n\nimport { getImage } from './store/reducers';\n\nimport Card from './Card'\nimport './css/App.css';\n\nclass App extends Component {\n  constructor(props, context) {\n    super(props, context)\n    this.state = {\n      searchvalue: '',\n    }\n  }\n\n  static propTypes = {\n    getFlickrImage: PropTypes.func.isRequired,\n    imageData: PropTypes.array,\n    loading: PropTypes.bool,\n    error: PropTypes.bool,\n  }\n\n  componentWillMount() {\n    this.props.getFlickrImage();\n  }\n\n  searchHandleClick = e => {\n    e.preventDefault()\n    const inputValue = document.getElementById('search').value;\n    this.setState({ searchvalue: inputValue })\n    console.log('Value: ', inputValue)\n  }\n\n  render() {\n    const { loading, error, imageData } = this.props\n    const { searchvalue } = this.state\n\n    return (\n      <div className=\"App\">\n        <div className=\"wrapper\">\n          <div className=\"header\">\n            <input\n              type=\"text\"\n              placeholder=\"Search\"\n              id=\"search\"\n              className=\"search\"\n            />\n            <button className=\"search_button\" onClick={this.searchHandleClick}>Search</button>\n          </div>\n          <div className=\"content flexWrap\">\n            {loading ? 'Loading...' : error ? 'OOPS!!! There was an error connection' : (\n              imageData\n              .filter(data => new RegExp(searchvalue, \"i\").test(data.title) ||\n              new RegExp(searchvalue, \"i\").test(data.description) ||\n              new RegExp(searchvalue, \"i\").test(data.author)\n              )\n              .map((card, index) => (\n                <Card\n                  key={index}\n                  author={card.author}\n                  title={card.title}\n                  description={card.description}\n                  image={card.media.m}\n                  tags={card.tags}\n                />\n              ))\n\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    imageData: state.imageData,\n    error: state.error,\n    loading: state.loading\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getFlickrImage: (url) => dispatch(getImage(url))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport configureStore from './components/store/configureStore';\n\nimport App from './components/App';\nconst store = configureStore();\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>, \n    document.getElementById('root')\n);\n"],"sourceRoot":""}